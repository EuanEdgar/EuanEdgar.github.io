{"version":3,"sources":["webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./src/sites/paint/tools/Tool.js","webpack:///./src/sites/paint/tools/DraggableTool.js","webpack:///./src/sites/paint/tools/utils/distance.js","webpack:///./src/utils/maths/sum.js","webpack:///./src/utils/maths/average.js","webpack:///./src/sites/paint/tools/utils/midpoint.js","webpack:///./src/sites/paint/tools/Circle.js","webpack:///./src/utils/inRange.js","webpack:///./src/sites/paint/tools/utils/angle.js","webpack:///./src/sites/paint/tools/utils/squareBox.js","webpack:///./src/sites/paint/tools/Line.js","webpack:///./src/sites/paint/tools/Pen.js","webpack:///./src/sites/paint/tools/Rectangle.js","webpack:///./src/sites/paint/tools/index.js"],"names":["aFunction","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","module","exports","bind","that","fn","this","partArgs","call","arguments","boundFunction","concat","length","apply","prototype","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","configurable","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","sham","Proxy","Boolean","valueOf","e","_possibleConstructorReturn","_typeof","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","possibleConstructorReturn","$","fails","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","target","stat","forced","it","getBuiltIn","anObject","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","FORCED","Target","newTarget","$args","push","proto","instance","obj","__esModule","_defineProperties","props","descriptor","enumerable","defineProperty","key","_createClass","Constructor","protoProps","staticProps","_classCallCheck","Tool","action","setProps","commitAction","otherProps","entries","forEach","keyUpper","toUpperCase","original","parentCommitAction","context","colour","strokeStyle","fillStyle","strokeWidth","lineWidth","isValidAction","toolContext","clearRect","canvas","width","height","layerX","layerY","DraggableTool","canStartAction","point","pointFromEvent","startAction","origin","final","redrawToolLayer","distance","start","end","x1","y1","x2","y2","distX","Math","abs","distY","sqrt","reduceSum","s","c","sum","nums","reduce","average","midpoint","a","b","x","y","Circle","toolLayer","clearCanvas","drawAction","type","square","shift","beginPath","center","diameter","arc","PI","stroke","closePath","name","global","default","inRange","num","min","max","angle","pointA","pointB","degrees","atan2","squareBox","dist","moveX","moveY","Line","theta","moveTo","lineTo","Pen","points","setColour","setStrokeWidth","firstPoint","Rectangle","circle","line","pen","rectangle"],"mappings":"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","file":"js/chunk-566b7dd0.9e4ab623.js","sourcesContent":["'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","class Tool {\n  constructor(props) {\n    this.action = null;\n\n    this.setProps(props);\n  }\n\n  setOptions(props) {\n    this.setProps(props);\n  }\n\n  setProps(props) {\n    const {\n      commitAction,\n      ...otherProps\n    } = props;\n\n    Object.entries(otherProps).forEach(([key, value]) => {\n      const keyUpper = key[0].toUpperCase() + key.slice(1);\n      if (this[`on${keyUpper}Change`]) {\n        const original = this[key];\n        if (original !== value) {\n          this[`on${keyUpper}Change`](value);\n        }\n      }\n      this[key] = value;\n    });\n    this.parentCommitAction = commitAction || this.parentCommitAction;\n  }\n\n  setColour(context, colour) {\n    context.strokeStyle = colour;\n    context.fillStyle = colour;\n  }\n\n  setStrokeWidth(context, strokeWidth) {\n    context.lineWidth = strokeWidth;\n  }\n\n  onMouseDown() {\n    /* Do nothing */\n  }\n\n  onMouseUp() {\n    /* Do nothing */\n  }\n\n  onMouseMove() {\n    /* Do nothing */\n  }\n\n  commitAction(action) {\n    if (this.isValidAction(action)) {\n      this.parentCommitAction(action);\n\n      const { toolContext } = this;\n\n      this.action = null;\n      toolContext.clearRect(0, 0, toolContext.canvas.width, toolContext.canvas.height);\n    }\n  }\n\n  canStartAction() {\n    return !this.action;\n  }\n\n  isValidAction(action) {\n    return !!action;\n  }\n\n  cancel() {\n    const { toolContext } = this;\n\n    this.action = null;\n    toolContext.clearRect(0, 0, toolContext.canvas.width, toolContext.canvas.height);\n  }\n\n  pointFromEvent(e) {\n    return [e.layerX, e.layerY];\n  }\n}\n\nexport default Tool;\n","import Tool from './Tool';\n\nclass DraggableTool extends Tool {\n  onMouseDown(e) {\n    if (this.canStartAction()) {\n      const point = this.pointFromEvent(e);\n\n      this.startAction();\n      this.action.origin = point;\n    }\n  }\n\n  onMouseMove(e) {\n    if (this.action) {\n      const point = this.pointFromEvent(e);\n      this.action.final = point;\n\n      this.redrawToolLayer();\n    }\n  }\n\n  onMouseUp() {\n    const { action } = this;\n    this.commitAction(action);\n  }\n\n  isValidAction(action) {\n    return action.origin && action.final;\n  }\n}\n\nexport default DraggableTool;\n","const distance = (start, end) => {\n  const [x1, y1] = start;\n  const [x2, y2] = end;\n\n  const distX = Math.abs(x1 - x2);\n  const distY = Math.abs(y1 - y2);\n\n  return Math.sqrt(distX ** 2 + distY ** 2);\n};\n\nexport default distance;\n","export const reduceSum = (s, c) => s + c;\n\nconst sum = (nums) => (\n  nums.reduce(reduceSum)\n);\n\nexport default sum;\n","import sum from './sum';\n\nconst average = (nums) => (\n  sum(nums) / nums.length\n);\n\nexport default average;\n","import average from '@/utils/maths/average';\n\nconst midpoint = (a, b) => {\n  const [x1, y1] = a;\n  const [x2, y2] = b;\n\n  const x = average([x1, x2]);\n  const y = average([y1, y2]);\n\n  return [x, y];\n};\n\nexport default midpoint;\n","import DraggableTool from './DraggableTool';\n\nimport distance from './utils/distance';\nimport midpoint from './utils/midpoint';\n\nclass Circle extends DraggableTool {\n  static options = [\n    {\n      name: 'colour',\n      type: 'colour',\n      global: true,\n      default: '#000000',\n    },\n    {\n      name: 'strokeWidth',\n      type: 'number',\n      default: 15,\n    },\n  ]\n\n  redrawToolLayer() {\n    this.toolLayer.clearCanvas();\n\n    Circle.drawAction(this.action, this.toolContext);\n  }\n\n  startAction() {\n    this.action = {\n      type: 'circle',\n      colour: this.colour,\n      strokeWidth: this.strokeWidth,\n      square: this.shift,\n      origin: null,\n      final: null,\n    };\n  }\n\n  static drawAction(action, context) {\n    const {\n      origin,\n      final,\n      colour,\n      strokeWidth,\n      square,\n    } = action;\n\n    context.strokeStyle = colour;\n    context.fillStyle = colour;\n    context.lineWidth = strokeWidth;\n\n    context.beginPath();\n\n    const start = origin;\n    const end = final;\n    if (square) {\n      const center = midpoint(start, end);\n      const diameter = distance(start, end);\n\n      context.arc(...center, diameter / 2, 0, Math.PI * 2);\n    } else {\n      const center = midpoint(start, end);\n      const diameter = distance(start, end);\n\n      context.arc(...center, diameter / 2, 0, Math.PI * 2);\n    }\n\n    context.stroke();\n    context.closePath();\n  }\n}\n\nexport default Circle;\n","const inRange = (num, min, max) => (\n  min <= num && num <= max\n);\n\nexport default inRange;\n","const angle = (pointA, pointB, degrees = false) => {\n  const [x1, y1] = pointA;\n  const [x2, y2] = pointB;\n\n  const distX = x1 - x2;\n  const distY = y1 - y2;\n\n  const angle = Math.atan2(distX, distY);\n\n  if (degrees) {\n    return angle * (180 / Math.PI); // rads to degs, range (-180, 180]\n  }\n  return angle;\n};\n\nexport default angle;\n","const squareBox = (origin, final) => {\n  const [x1, y1] = origin;\n  const [x2, y2] = final;\n\n  const distX = Math.abs(x1 - x2);\n  const distY = Math.abs(y1 - y2);\n  const dist = Math.max(distX, distY);\n\n  const moveX = (x1 > x2) ? -dist : dist;\n  const moveY = (y1 > y2) ? -dist : dist;\n\n  return [x1 + moveX, y1 + moveY];\n};\n\nexport default squareBox;\n","import inRange from '@/utils/inRange';\n\nimport DraggableTool from './DraggableTool';\n\nimport angle from './utils/angle';\nimport squareBox from './utils/squareBox';\n\nclass Line extends DraggableTool {\n  static options = [\n    {\n      name: 'colour',\n      type: 'colour',\n      global: true,\n      default: '#000000',\n    },\n    {\n      name: 'strokeWidth',\n      type: 'number',\n      default: 15,\n    },\n  ]\n\n  redrawToolLayer() {\n    this.toolLayer.clearCanvas();\n\n    Line.drawAction(this.action, this.toolContext);\n  }\n\n  onShiftChange(shift) {\n    if (this.action) {\n      this.action.square = shift;\n\n      this.redrawToolLayer();\n    }\n  }\n\n  startAction() {\n    this.action = {\n      type: 'line',\n      colour: this.colour,\n      strokeWidth: this.strokeWidth,\n      square: this.shift,\n      origin: null,\n      final: null,\n    };\n  }\n\n  static drawAction(action, context) {\n    const {\n      origin,\n      final,\n      colour,\n      strokeWidth,\n      square,\n    } = action;\n\n    context.strokeStyle = colour;\n    context.fillStyle = colour;\n    context.lineWidth = strokeWidth;\n\n    context.beginPath();\n\n    const start = origin;\n    let end = final;\n    if (square) {\n      const theta = Math.abs(angle(start, final, true));\n\n      /*\n        337.5 - 22.5\n        22.5 - 67.5\n        67.5 - 112.5\n        112.5 - 157.5\n        157.5 - 202.5\n        202.5 - 247.5\n        247.5 - 292.5\n        292.5 - 337.5\n      */\n\n      if (inRange(theta, 0, 22.5) || inRange(theta, 337.5, 360)) {\n        // Straight up\n        end = [start[0], end[1]];\n      } else if (inRange(theta, 22.5, 67.5)) {\n        // Diag up right\n        end = squareBox(start, end);\n      } else if (inRange(theta, 67.5, 112.5)) {\n        // Straight right\n        end = [end[0], start[1]];\n      } else if (inRange(theta, 112.5, 157.5)) {\n        // Diag down right\n        end = squareBox(start, end);\n      } else if (inRange(theta, 157.5, 202.5)) {\n        // Straight down\n        end = [start[0], end[1]];\n      } else if (inRange(theta, 202.5, 247.5)) {\n        // Diag down left\n        end = squareBox(start, end);\n      } else if (inRange(theta, 247.5, 292.5)) {\n        // Straight left\n        end = [end[0], start[1]];\n      } else if (inRange(292.5, 337.5)) {\n        // Diag up right\n        end = squareBox(start, end);\n      }\n    }\n\n    context.moveTo(...start);\n    context.lineTo(...end);\n    context.stroke();\n    context.closePath();\n  }\n}\n\nexport default Line;\n","import Tool from './Tool';\n\nclass Pen extends Tool {\n  static options = [\n    {\n      name: 'colour',\n      type: 'colour',\n      global: true,\n      default: '#000000',\n    },\n    {\n      name: 'strokeWidth',\n      type: 'number',\n      default: 15,\n    },\n  ]\n\n  onMouseDown(e) {\n    if (this.canStartAction()) {\n      this.startAction();\n\n      const point = this.pointFromEvent(e);\n\n      this.action.points.push(point);\n\n      this.toolContext.beginPath();\n      this.setColour(this.toolContext, this.colour);\n      this.setStrokeWidth(this.toolContext, this.strokeWidth);\n\n      this.toolContext.moveTo(...point);\n    }\n  }\n\n  onMouseMove(e) {\n    if (this.action) {\n      const {\n        action,\n        toolContext,\n      } = this;\n\n      const point = this.pointFromEvent(e);\n\n      action.points.push(point);\n\n      toolContext.lineTo(...point);\n      toolContext.stroke();\n    }\n  }\n\n  onMouseUp() {\n    const { action } = this;\n\n    this.commitAction(action);\n  }\n\n  startAction() {\n    this.action = {\n      type: 'pen',\n      colour: this.colour,\n      strokeWidth: this.strokeWidth,\n      points: [],\n    };\n  }\n\n  isValidAction(action) {\n    if (!action) {\n      return false;\n    }\n\n    const { points } = action;\n    if (points.length < 2) {\n      return false;\n    }\n    if (points.length > 2) {\n      return true;\n    }\n    return (points[0][0] !== points[1][0] || points[0][1] !== points[1][1]);\n  }\n\n  static drawAction(action, context) {\n    const points = [...action.points];\n\n    if (points.length) {\n      context.strokeStyle = action.colour;\n      context.fillStyle = action.colour;\n      context.lineWidth = action.strokeWidth;\n\n      const firstPoint = points.shift();\n\n      context.beginPath();\n      context.moveTo(...firstPoint);\n\n      points.forEach((point) => {\n        context.lineTo(...point);\n      });\n\n      context.stroke();\n      context.closePath();\n    }\n  }\n}\n\nexport default Pen;\n","import DraggableTool from './DraggableTool';\n\nimport squareBox from './utils/squareBox';\n\nclass Rectangle extends DraggableTool {\n  static options = [\n    {\n      name: 'colour',\n      type: 'colour',\n      global: true,\n      default: '#000000',\n    },\n    {\n      name: 'strokeWidth',\n      type: 'number',\n      default: 15,\n    },\n  ]\n\n  redrawToolLayer() {\n    this.toolLayer.clearCanvas();\n\n    Rectangle.drawAction(this.action, this.toolContext);\n  }\n\n  onShiftChange(shift) {\n    if (this.action) {\n      this.action.square = shift;\n\n      this.redrawToolLayer();\n    }\n  }\n\n  startAction() {\n    this.action = {\n      type: 'rectangle',\n      colour: this.colour,\n      strokeWidth: this.strokeWidth,\n      square: this.shift,\n      origin: null,\n      final: null,\n    };\n  }\n\n  static drawAction(action, context) {\n    const {\n      origin,\n      final,\n      colour,\n      strokeWidth,\n      square,\n    } = action;\n\n    context.strokeStyle = colour;\n    context.fillStyle = colour;\n    context.lineWidth = strokeWidth;\n\n    context.beginPath();\n\n    const start = origin;\n    let end = final;\n    if (square) {\n      end = squareBox(start, end);\n    }\n\n    context.moveTo(...start);\n    context.lineTo(end[0], start[1]);\n    context.lineTo(...end);\n    context.lineTo(start[0], end[1]);\n    context.lineTo(...start);\n\n    context.stroke();\n    context.closePath();\n  }\n}\n\nexport default Rectangle;\n","import Circle from './Circle';\nimport Line from './Line';\nimport Pen from './Pen';\nimport Rectangle from './Rectangle';\n\nexport default {\n  circle: Circle,\n  line: Line,\n  pen: Pen,\n  rectangle: Rectangle,\n};\n"],"sourceRoot":""}