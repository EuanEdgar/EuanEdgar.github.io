(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-566b7dd0"],{"0538":function(t,e,n){"use strict";var o=n("1c0b"),r=n("861d"),i=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";a[e]=Function("C,a","return new C("+o.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=o(this),n=i.call(arguments,1),a=function(){var o=n.concat(i.call(arguments));return this instanceof a?c(e,o.length,o):e.apply(t,o)};return r(e.prototype)&&(a.prototype=e.prototype),a}},"257e":function(t,e,n){"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return o}))},"262e":function(t,e,n){"use strict";function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}n.d(e,"a",(function(){return r}))},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("6b75");function r(t){if(Array.isArray(t))return Object(o["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var a=n("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return r(t)||i(t)||Object(a["a"])(t)||c()}},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("4ae1"),n("3410");function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var i=n("7037"),a=n.n(i),c=n("257e");function u(t,e){return!e||"object"!==a()(e)&&"function"!==typeof e?Object(c["a"])(t):e}function s(t){var e=r();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}},3410:function(t,e,n){var o=n("23e7"),r=n("d039"),i=n("7b0b"),a=n("e163"),c=n("e177"),u=r((function(){a(1)}));o({target:"Object",stat:!0,forced:u,sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},"4ae1":function(t,e,n){var o=n("23e7"),r=n("d066"),i=n("1c0b"),a=n("825a"),c=n("861d"),u=n("7c73"),s=n("0538"),l=n("d039"),f=r("Reflect","construct"),h=l((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!l((function(){f((function(){}))})),y=h||p;o({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(s.apply(t,o))}var r=n.prototype,l=u(c(r)?r:Object.prototype),y=Function.apply.call(t,l,e);return c(y)?y:l}})},7037:function(t,e,n){function o(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(t.exports=o=function(t){return typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0):(t.exports=o=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports["default"]=t.exports,t.exports.__esModule=!0),o(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),t.exports=o,t.exports["default"]=t.exports,t.exports.__esModule=!0},bee2:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"a",(function(){return r}))},d4ec:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},d65e:function(t,e,n){"use strict";var o=n("2909"),r=n("d4ec"),i=n("bee2"),a=n("262e"),c=n("2caf"),u=n("ade3"),s=(n("99af"),n("3835")),l=n("15fd"),f=(n("159b"),n("4fad"),n("fb6a"),["commitAction"]),h=function(){function t(e){Object(r["a"])(this,t),this.action=null,this.setProps(e)}return Object(i["a"])(t,[{key:"setOptions",value:function(t){this.setProps(t)}},{key:"setProps",value:function(t){var e=this,n=t.commitAction,o=Object(l["a"])(t,f);Object.entries(o).forEach((function(t){var n=Object(s["a"])(t,2),o=n[0],r=n[1],i=o[0].toUpperCase()+o.slice(1);if(e["on".concat(i,"Change")]){var a=e[o];a!==r&&e["on".concat(i,"Change")](r)}e[o]=r})),this.parentCommitAction=n||this.parentCommitAction}},{key:"setColour",value:function(t,e){t.strokeStyle=e,t.fillStyle=e}},{key:"setStrokeWidth",value:function(t,e){t.lineWidth=e}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}},{key:"commitAction",value:function(t){if(this.isValidAction(t)){this.parentCommitAction(t);var e=this.toolContext;this.action=null,e.clearRect(0,0,e.canvas.width,e.canvas.height)}}},{key:"canStartAction",value:function(){return!this.action}},{key:"isValidAction",value:function(t){return!!t}},{key:"cancel",value:function(){var t=this.toolContext;this.action=null,t.clearRect(0,0,t.canvas.width,t.canvas.height)}},{key:"pointFromEvent",value:function(t){return[t.layerX,t.layerY]}}]),t}(),p=h,y=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(i["a"])(n,[{key:"onMouseDown",value:function(t){if(this.canStartAction()){var e=this.pointFromEvent(t);this.startAction(),this.action.origin=e}}},{key:"onMouseMove",value:function(t){if(this.action){var e=this.pointFromEvent(t);this.action.final=e,this.redrawToolLayer()}}},{key:"onMouseUp",value:function(){var t=this.action;this.commitAction(t)}},{key:"isValidAction",value:function(t){return t.origin&&t.final}}]),n}(p),b=y,v=function(t,e){var n=Object(s["a"])(t,2),o=n[0],r=n[1],i=Object(s["a"])(e,2),a=i[0],c=i[1],u=Math.abs(o-a),l=Math.abs(r-c);return Math.sqrt(Math.pow(u,2)+Math.pow(l,2))},d=v,O=function(t,e){return t+e},k=function(t){return t.reduce(O)},j=k,m=function(t){return j(t)/t.length},w=m,g=function(t,e){var n=Object(s["a"])(t,2),o=n[0],r=n[1],i=Object(s["a"])(e,2),a=i[0],c=i[1],u=w([o,a]),l=w([r,c]);return[u,l]},A=g,M=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(i["a"])(n,[{key:"redrawToolLayer",value:function(){this.toolLayer.clearCanvas(),n.drawAction(this.action,this.toolContext)}},{key:"startAction",value:function(){this.action={type:"circle",colour:this.colour,strokeWidth:this.strokeWidth,square:this.shift,origin:null,final:null}}}],[{key:"drawAction",value:function(t,e){var n=t.origin,r=t.final,i=t.colour,a=t.strokeWidth,c=t.square;e.strokeStyle=i,e.fillStyle=i,e.lineWidth=a,e.beginPath();var u=n,s=r;if(c){var l=A(u,s),f=d(u,s);e.arc.apply(e,Object(o["a"])(l).concat([f/2,0,2*Math.PI]))}else{var h=A(u,s),p=d(u,s);e.arc.apply(e,Object(o["a"])(h).concat([p/2,0,2*Math.PI]))}e.stroke(),e.closePath()}}]),n}(b);Object(u["a"])(M,"options",[{name:"colour",type:"colour",global:!0,default:"#000000"},{name:"strokeWidth",type:"number",default:15}]);var x=M,C=function(t,e,n){return e<=t&&t<=n},S=C,W=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(s["a"])(t,2),r=o[0],i=o[1],a=Object(s["a"])(e,2),c=a[0],u=a[1],l=r-c,f=i-u,h=Math.atan2(l,f);return n?h*(180/Math.PI):h},P=W,T=function(t,e){var n=Object(s["a"])(t,2),o=n[0],r=n[1],i=Object(s["a"])(e,2),a=i[0],c=i[1],u=Math.abs(o-a),l=Math.abs(r-c),f=Math.max(u,l),h=o>a?-f:f,p=r>c?-f:f;return[o+h,r+p]},_=T,E=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(i["a"])(n,[{key:"redrawToolLayer",value:function(){this.toolLayer.clearCanvas(),n.drawAction(this.action,this.toolContext)}},{key:"onShiftChange",value:function(t){this.action&&(this.action.square=t,this.redrawToolLayer())}},{key:"startAction",value:function(){this.action={type:"line",colour:this.colour,strokeWidth:this.strokeWidth,square:this.shift,origin:null,final:null}}}],[{key:"drawAction",value:function(t,e){var n=t.origin,r=t.final,i=t.colour,a=t.strokeWidth,c=t.square;e.strokeStyle=i,e.fillStyle=i,e.lineWidth=a,e.beginPath();var u=n,s=r;if(c){var l=Math.abs(P(u,r,!0));S(l,0,22.5)||S(l,337.5,360)?s=[u[0],s[1]]:S(l,22.5,67.5)?s=_(u,s):S(l,67.5,112.5)?s=[s[0],u[1]]:S(l,112.5,157.5)?s=_(u,s):S(l,157.5,202.5)?s=[u[0],s[1]]:S(l,202.5,247.5)?s=_(u,s):S(l,247.5,292.5)?s=[s[0],u[1]]:S(292.5,337.5)&&(s=_(u,s))}e.moveTo.apply(e,Object(o["a"])(u)),e.lineTo.apply(e,Object(o["a"])(s)),e.stroke(),e.closePath()}}]),n}(b);Object(u["a"])(E,"options",[{name:"colour",type:"colour",global:!0,default:"#000000"},{name:"strokeWidth",type:"number",default:15}]);var R=E,q=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(i["a"])(n,[{key:"onMouseDown",value:function(t){if(this.canStartAction()){var e;this.startAction();var n=this.pointFromEvent(t);this.action.points.push(n),this.toolContext.beginPath(),this.setColour(this.toolContext,this.colour),this.setStrokeWidth(this.toolContext,this.strokeWidth),(e=this.toolContext).moveTo.apply(e,Object(o["a"])(n))}}},{key:"onMouseMove",value:function(t){if(this.action){var e=this.action,n=this.toolContext,r=this.pointFromEvent(t);e.points.push(r),n.lineTo.apply(n,Object(o["a"])(r)),n.stroke()}}},{key:"onMouseUp",value:function(){var t=this.action;this.commitAction(t)}},{key:"startAction",value:function(){this.action={type:"pen",colour:this.colour,strokeWidth:this.strokeWidth,points:[]}}},{key:"isValidAction",value:function(t){if(!t)return!1;var e=t.points;return!(e.length<2)&&(e.length>2||(e[0][0]!==e[1][0]||e[0][1]!==e[1][1]))}}],[{key:"drawAction",value:function(t,e){var n=Object(o["a"])(t.points);if(n.length){e.strokeStyle=t.colour,e.fillStyle=t.colour,e.lineWidth=t.strokeWidth;var r=n.shift();e.beginPath(),e.moveTo.apply(e,Object(o["a"])(r)),n.forEach((function(t){e.lineTo.apply(e,Object(o["a"])(t))})),e.stroke(),e.closePath()}}}]),n}(p);Object(u["a"])(q,"options",[{name:"colour",type:"colour",global:!0,default:"#000000"},{name:"strokeWidth",type:"number",default:15}]);var L=q,F=function(t){Object(a["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return Object(i["a"])(n,[{key:"redrawToolLayer",value:function(){this.toolLayer.clearCanvas(),n.drawAction(this.action,this.toolContext)}},{key:"onShiftChange",value:function(t){this.action&&(this.action.square=t,this.redrawToolLayer())}},{key:"startAction",value:function(){this.action={type:"rectangle",colour:this.colour,strokeWidth:this.strokeWidth,square:this.shift,origin:null,final:null}}}],[{key:"drawAction",value:function(t,e){var n=t.origin,r=t.final,i=t.colour,a=t.strokeWidth,c=t.square;e.strokeStyle=i,e.fillStyle=i,e.lineWidth=a,e.beginPath();var u=n,s=r;c&&(s=_(u,s)),e.moveTo.apply(e,Object(o["a"])(u)),e.lineTo(s[0],u[1]),e.lineTo.apply(e,Object(o["a"])(s)),e.lineTo(u[0],s[1]),e.lineTo.apply(e,Object(o["a"])(u)),e.stroke(),e.closePath()}}]),n}(b);Object(u["a"])(F,"options",[{name:"colour",type:"colour",global:!0,default:"#000000"},{name:"strokeWidth",type:"number",default:15}]);var I=F;e["a"]={circle:x,line:R,pen:L,rectangle:I}}}]);
//# sourceMappingURL=chunk-566b7dd0.9e4ab623.js.map